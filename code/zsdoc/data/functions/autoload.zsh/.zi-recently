emulate -LR zsh
builtin setopt nullglob extendedglob warncreateglobal typesetsilent noshortloops
local IFS=.
local gitout
local timespec=${*// ##/.}
timespec=${timespec//.##/.}
[[ -z $timespec ]] && timespec=1.week
typeset -a plugins
plugins=( ${ZI[PLUGINS_DIR]}/*(DN-/) )
local p uspl1
for p in ${plugins[@]}; do
  uspl1=${p:t}
  [[ $uspl1 = custom || $uspl1 = _local---zi ]] && continue
  pushd "$p" >/dev/null || continue
  if [[ -d .git ]]; then
    gitout=`command git log --all --max-count=1 --since=$timespec 2>/dev/null`
    if [[ -n $gitout ]]; then
      .zi-any-colorify-as-uspl2 "$uspl1"
      builtin print -r -- "$REPLY"
    fi
  fi
  popd >/dev/null
done
