local -A ICE2
local local_dir filename is_snippet the_id="$1${${1:#(%|/)*}:+${2:+/}}$2"

.zi-compute-ice "$the_id" "pack" ICE2 local_dir filename is_snippet || return 1

ICE2[teleid]="${ICE2[teleid]:-${ICE2[id-as]}}"
if (( is_snippet )); then
  if [[ ! -e "$local_dir" ]]; then
    builtin print "No such snippet"
    return 1
  fi
else
  if [[ ! -e "$local_dir" ]]; then
    builtin print -r -- "No such plugin or snippet"
    return 1
  fi
fi
"${EDITOR:-code}" "$local_dir"
return 0
