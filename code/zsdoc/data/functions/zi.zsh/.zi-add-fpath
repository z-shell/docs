[[ $1 = (-f|--front) ]] && { shift; integer front=1; }
.zi-any-to-user-plugin "$1" ""
local id_as="$1" add_dir="$2" user="${reply[-2]}" plugin="${reply[-1]}"
if (( front )) {
  fpath[1,0]=${${${(M)user:#%}:+$plugin}:-${ZI[PLUGINS_DIR]}/${id_as//\//---}}${add_dir:+/$add_dir}
} else {
  fpath+=(
    ${${${(M)user:#%}:+$plugin}:-${ZI[PLUGINS_DIR]}/${id_as//\//---}}${add_dir:+/$add_dir}
  )
}
