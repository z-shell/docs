  builtin emulate -LR zsh -o extendedglob
  if [[ $1 = (#b)([^:]#)(://|::)((([[:alnum:]._+-]##).([[:alnum:]_+-]##))|([[:alnum:].+_-]##))(|/(*)) ]] {
    match[9]=${match[9]//\//"%F{227}%B"/"%F{81}%b"}
    if [[ -n $match[4] ]]; then
      REPLY="$(builtin print -Pr -- %F{220}$match[1]%F{227}$match[2]\
%B%F{82}$match[5]\
%B%F{227}.\
%B%F{183}$match[6]%f%b)"
    else
      REPLY="$(builtin print -Pr -- %F{220}$match[1]%F{227}$match[2]\
%B%F{82}$match[7]%f%b)"
    fi
    if [[ -n $match[9] ]]; then
      REPLY+="$(print -Pr -- \
%F{227}%B/%F{81}%b$match[9]%f%b)"
    fi
  } else {
    REPLY=$ZI[col-url]$1$ZI[col-rst]
  }
